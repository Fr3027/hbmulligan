<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="css/bulma.min.css">
  <script src="js/clipboard.min.js"></script>
  <title>HearthBuddy留牌编辑器</title>
</head>

<body>
  <div class="box" style="width:500px;margin: 0 auto; margin-top: 20px">
    <p class="is-size-3" style="text-align: center">HearthBuddy留牌编辑器</p>
    <label class="label">卡牌ID(<a href="https://github.com/ChuckHearthBuddy/CardQuery">卡牌ID查询</a>)：</label>
    <input type="text" id="cardid" class="input is-small" /> </br>
    <label class="label">我方职业：</label>
    <div class="select is-small is-primary">
      <select name="myoccupation" id="myoccupation">
        <option value="None">全部</option>
        <option value="warrior">战士</option>
        <option value="mage">法师</option>
        <option value="preist">牧师</option>
        <option value="thief">潜行者</option>
        <option value="paladin">骑士</option>
        <option value="warlock">术士</option>
        <option value="druid">德鲁伊</option>
        <option value="hunter">猎人</option>
        <option value="shaman">萨满</option>
      </select>
    </div>
    <label class="label">对方职业：</label>
    <div class="select is-small is-primary">
      <select name="enemyoccupation" id="enemyoccupation">
        <option value="None">全部</option>
        <option value="warrior">战士</option>
        <option value="mage">法师</option>
        <option value="preist">牧师</option>
        <option value="thief">潜行者</option>
        <option value="paladin">骑士</option>
        <option value="warlock">术士</option>
        <option value="druid">德鲁伊</option>
        <option value="hunter">猎人</option>
        <option value="shaman">萨满</option>
      </select>
    </div>
    <label class="label">留牌策略：</label>
    <div class="select is-small is-primary">
      <select name="holdcard" id="holdcard">
        <option value="Discard:2">不留</option>
        <option value="Hold:1">留一张</option>
        <option value="Hold:2">留两张</option>
      </select>
    </div>
    <label class="label">手牌中包含：</label><input type="text" id="handcard" placeholder="输入卡牌ID，使用/隔开"
      class="input is-small" /> </br>
    <label class="label">先后手设置：</label>
    <div class="control is-primary">
      <label class="radio"><input type="radio" name="defensive" value="" checked>先手</label>
      <label class="radio"><input type="radio" name="defensive" value="GAME_005">后手</label>
    </div>
    </br>
    <center>
      <button id="make" onclick="click()" type="button" class="button is-primary">生成</button>
    </center>

    </br>
    <label class="label">结果：</label>
    <p id="code" class="is-size-6" />
  </div>

  <script>
    var button = document.getElementById("make");
    button.onclick = function () {
      var cardid = document.getElementById("cardid").value.toUpperCase();
      if (cardid == "") {
        alert("卡牌ID为必填项");
        return;
      }
      var myoccupation = document.getElementById("myoccupation").value;
      var enemyoccupation = document.getElementById("enemyoccupation").value;
      var holdcard = document.getElementById("holdcard").value;
      var handcard = document.getElementById("handcard").value.toUpperCase();
      if (handcard != "") {
        handcard = handcard + "/";
      } else {
        handcard = "/";
      }
      var defensive = document.getElementsByName("defensive");
      var item = null;
      for (var i = 0; i < defensive.length; i++) { //遍历Radio 
        if (defensive[i].checked) {
          item = defensive[i].value;
        }
      }
      var code = cardid + ";" + myoccupation + ";" + enemyoccupation + ";" + holdcard + ";" + handcard + item;
      document.getElementById("code").innerText = code;
    }
  </script>
</body>

</html>